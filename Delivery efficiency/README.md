# delivery_efficiency

SQL-представление для анализа эффективности работы курьеров.

## Назначение

Представление `delivery_efficiency` предназначено для оценки производительности курьеров на основе данных о доставленных заказах.
Используется как источник данных для аналитики и визуализации в Power BI.

## Логика представления

В представлении агрегируются данные по каждому курьеру с учётом завершённых доставок.

Основные метрики:

* количество доставленных заказов;
* количество отменных заказов;
* отношение доставленных к общему количеству заказов. 

Агрегация выполняется на уровне SQL, что:

* снижает нагрузку на BI-инструмент;
* упрощает повторное использование логики;
* обеспечивает единый источник правды для аналитики.

## Используемые данные

Представление строится на основе таблиц:

* `orders`
* `delivery`

Учитываются только заказы со статусом завершённой доставки.

**Пример использования:**

Во вложенном файле.

## Визуализация в Power BI

Представление используется как источник данных в Power BI без дополнительной трансформации.

Построенные визуализации:

* выявление самых эффективных и наименее эффективных курьеров;
* динамика эффективности по периодам (при использовании фильтров по дате).

## Преимущества подхода

* бизнес-логика вынесена в SQL;
* Power BI работает с готовыми агрегатами;
* упрощается поддержка и масштабирование аналитики;
* минимизируется дублирование расчётов.

## Примечание

Представление может быть расширено дополнительными метриками (SLA, медианное время доставки, процент опозданий) без изменений в BI-отчётах.